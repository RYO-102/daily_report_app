# æ—¥å ±ã‚¢ãƒ—ãƒª (Daily Report App)

Next.js ã¨ Docker ã§æ§‹ç¯‰ã—ãŸã€ã‚·ãƒ³ãƒ—ãƒ«ãªæ—¥å ±ç®¡ç†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚
æ—¥ã€…ã®æ¥­å‹™å†…å®¹ã€å­¦ç¿’å†…å®¹ã‚’è¨˜éŒ²ãƒ»ä¿å­˜ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ (Tech Stack)

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ãƒ¢ãƒ€ãƒ³ãªWebé–‹ç™ºæŠ€è¡“ã‚’ç”¨ã„ã¦æ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

- **Frontend:** Next.js 14 (App Router), TypeScript, Tailwind CSS
- **Backend:** Next.js Server Actions
- **Database:** PostgreSQL
- **ORM:** Prisma
- **Infrastructure:** Docker, Docker Compose

## âœ¨ æ©Ÿèƒ½

- **æ—¥å ±ã®ä½œæˆ:** æ—¥ä»˜ã€æ¥­å‹™å†…å®¹ã€å­¦ç¿’å†…å®¹ã‚’è¨˜éŒ²
- **ä¸€è¦§è¡¨ç¤º:** éå»ã®æ—¥å ±ã‚’æ™‚ç³»åˆ—ã§è¡¨ç¤º
- **ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–:** Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã®PostgreSQLã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜

## ğŸ› ï¸ ç’°å¢ƒæ§‹ç¯‰ (Setup)

DockerãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ç’°å¢ƒã§ã‚ã‚Œã°ã€ä»¥ä¸‹ã®æ‰‹é †ã§èµ·å‹•ã§ãã¾ã™ã€‚

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone [https://github.com/RYO-102/daily_report_app.git](https://github.com/RYO-102/daily_report_app.git)
cd daily_report_app
```

### 2\. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

`.env.example` ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€å®Ÿç’°å¢ƒç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« `.env` ã‚’ä½œæˆã—ã¾ã™ã€‚

```bash
cp .env.example .env
```


### 3\. ã‚³ãƒ³ãƒ†ãƒŠã®èµ·å‹•

```bash
docker-compose up -d --build
```

### 4\. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (åˆå›ã®ã¿)

ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```bash
docker-compose exec app npx prisma migrate dev --name init
```

### 5\. ã‚¢ãƒ—ãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹

ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚

http://localhost:3000

## ğŸ“ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç† (Prisma Studio)

ä»¥ä¸‹ã®URLã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä¸­èº«ã‚’GUIã§ç¢ºèªãƒ»ç·¨é›†ã§ãã¾ã™ã€‚

http://localhost:5555

## âš™ï¸ è¨­å®šã®å¤‰æ›´ (Configuration)

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹å ´åˆ

`.env` ãƒ•ã‚¡ã‚¤ãƒ«å†…ã® `POSTGRES_PASSWORD` ã‚’å¤‰æ›´ã™ã‚‹ã ã‘ã§ã¯åæ˜ ã•ã‚Œã¾ã›ã‚“ï¼ˆæ—¢å­˜ã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ãŒæ®‹ã£ã¦ã„ã‚‹ãŸã‚ï¼‰ã€‚
ä»¥ä¸‹ã®æ‰‹é †ã§ã€ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€åº¦ãƒªã‚»ãƒƒãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

1.  `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æ›¸ãæ›ãˆã‚‹ã€‚
2.  ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã€**ãƒ‡ãƒ¼ã‚¿ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å«ã‚ã¦**ã‚³ãƒ³ãƒ†ãƒŠã‚’å‰Šé™¤ã™ã‚‹ã€‚
    ```bash
    docker-compose down -v
    ```
    â€»æ³¨æ„: ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¿å­˜æ¸ˆã¿ã®ãƒ‡ãƒ¼ã‚¿ã¯å…¨ã¦æ¶ˆãˆã¾ã™ã€‚
3.  å†åº¦ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã™ã‚‹ã€‚
    ```bash
    docker-compose up -d --build
    ```

## ğŸš‘ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (Troubleshooting)

### Q. "PrismaClient did not initialize yet" ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

ç”»é¢ã«ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚ŒãŸå ´åˆï¼š

> @prisma/client did not initialize yet. Please run "prisma generate" and try to import it again.

ã“ã‚Œã¯ã€Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§Prismaã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦è§£æ¶ˆã—ã¦ãã ã•ã„ã€‚

```bash
# 1. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å†ç”Ÿæˆ
docker-compose exec app npx prisma generate

# 2. ã‚¢ãƒ—ãƒªã®å†èµ·å‹•
docker-compose restart app
```